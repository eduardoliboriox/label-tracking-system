<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Venttos Trace</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<!-- CabeÃ§alho -->
<header class="header-sistema d-flex align-items-center justify-content-between px-3 py-3 position-relative">

    <!-- BOTÃƒO HAMBÃšRGUER (SÃ“ NO MOBILE *) -->
    <button id="btnToggleSidebar" class="btn btn-outline-dark d-md-none me-2">
        â˜°
    </button>

    <!-- LOGO CENTRAL (MOBILE / TABLET) -->
    <div class="logo-centro-mobile">
        <img src="{{ url_for('static', filename='logo.jpeg') }}"
            class="logo-centro-img"
            alt="Venttos Trace">
    </div>

    <!-- LOGO + MENU (DESKTOP) -->
    <div class="header-left d-flex align-items-center">

        <img src="{{ url_for('static', filename='logo-name.jpeg') }}"
            class="logo logo-desktop"
            alt="Venttos Trace">

        {% if show_header_content|default(true) and not hide_top_menu %}
        <nav class="menu-topo align-items-center">
            <a href="{{ url_for('home') }}" class="btn btn-outline-danger btn-sm mx-1 fw-bold">Home</a>
            <a href="{{ url_for('index') }}" class="btn btn-outline-primary btn-sm mx-1 fw-bold">Ordens de ProduÃ§Ã£o</a>
            <a href="{{ url_for('dashboard') }}" class="btn btn-outline-secondary btn-sm mx-1 fw-bold">Dashboard</a>
            <a href="{{ url_for('movimentar') }}" class="btn btn-outline-warning btn-sm mx-1 fw-bold">Movimentar</a>
            <a href="{{ url_for('ops') }}" class="btn btn-outline-info btn-sm mx-1 fw-bold">Controle de OPs</a>
            <a href="#" class="btn btn-outline-success btn-sm mx-1 fw-bold">ConfiguraÃ§Ãµes</a>
        </nav>
        {% endif %}

    </div>


</header>

<nav id="sidebarMobile" class="sidebar-mobile d-md-none">

    <div class="sidebar-header text-center mb-3 fw-bold">
        <img src="{{ url_for('static', filename='logo-name.jpeg') }}" class="logo-sidebar" alt="Logo">
    </div>

    <div class="sidebar-links fw-bold text-dark">
        <a href="{{ url_for('home') }}">ğŸ“Œ Home</a>
        <a href="{{ url_for('index') }}">ğŸ­ Ordens de ProduÃ§Ã£o</a>
        <a href="{{ url_for('dashboard') }}">ğŸ“Š Dashboard</a>
        <a href="{{ url_for('movimentar') }}">ğŸ“¦ Movimentar</a>
        <a href="{{ url_for('ops') }}">ğŸ“˜ Controle de OPs</a>
        <a href="#">âš™ï¸ ConfiguraÃ§Ãµes</a>
    </div>

</nav>

<hr class="linha-separadora">

<main class="container mt-3">
    {% block content %}{% endblock %}
</main>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Fechar alerts automaticamente -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const alerts = document.querySelectorAll(".alert");
    alerts.forEach(alert => {
        setTimeout(() => {
            const bsAlert = new bootstrap.Alert(alert);
            bsAlert.close();
        }, 3000); 
    });
});
</script>

<!-- Toggle sidebar mobile e fechar ao clicar fora -->
<script>
document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById('btnToggleSidebar');
    const sidebar = document.getElementById('sidebarMobile');

    if (btn && sidebar) {
        // Toggle sidebar ao clicar no botÃ£o
        btn.addEventListener('click', (e) => {
            e.stopPropagation(); 
            sidebar.classList.toggle('show');
        });

        // Fecha o sidebar ao clicar fora dele
        document.addEventListener('click', (e) => {
            if (sidebar.classList.contains('show') && 
                !sidebar.contains(e.target) && 
                !btn.contains(e.target)) {
                sidebar.classList.remove('show');
            }
        });

        sidebar.addEventListener('click', (e) => {
            e.stopPropagation();
        });
    }
});
</script>

<footer class="footer-sistema">
    <div class="container text-center">
        <div>
            Â© 2025{% if current_year > 2025 %}-{{ current_year }}{% endif %}
            Venttos Electronics. Venttos Trace.
        </div>
        <div>Todos os direitos reservados.</div>
    </div>
</footer>

</body>
</html>
